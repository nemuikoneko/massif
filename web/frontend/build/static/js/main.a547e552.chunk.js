(this["webpackJsonpmassif-frontend"]=this["webpackJsonpmassif-frontend"]||[]).push([[0],{16:function(t,n,e){},18:function(t,n,e){},20:function(t,n,e){"use strict";e.r(n);var a=e(1),s=e.n(a),r=e(9),o=e.n(r),c=(e(16),e(6)),i=e.n(c),u=e(10),l=e(11),f=e(7),g=e(8),j=e(4);function d(t,n){switch(n.tag){case"log_status":return Object(j.a)(Object(j.a)({},t),{},{statusLog:t.statusLog.concat([n.status])});case"add_known_normals":return Object(j.a)(Object(j.a)({},t),{},{knownNormals:new Set([].concat(Object(g.a)(t.knownNormals),Object(g.a)(n.normals)))})}}var b={statusLog:[],knownNormals:new Set,suggestedNormal:null,suggestedFragments:null},p=(e(18),e(0));var h=function(){var t=Object(a.useReducer)(d,b),n=Object(f.a)(t,2),e=n[0],r=n[1];return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("input",{type:"file",id:"known-text-file",onChange:function(t){var n=t.target.files;if(null!==n&&n.length>0){var e=n[0],a=new FileReader;a.readAsText(e),a.onload=function(){if("string"!==typeof a.result)throw new Error;!function(t){var n,e=[],a=Object(l.a)(t.split("\n"));try{for(a.s();!(n=a.n()).done;){var s=n.value.split("\t");e.push(s[0])}}catch(c){a.e(c)}finally{a.f()}var o=e.join("\n");Object(u.a)(i.a.mark((function t(){var n,e,a,s,c,u,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({tag:"log_status",status:"Analyzing..."}),t.next=3,fetch("http://localhost:5000/api/get_text_normal_counts",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({text:o})});case 3:if((n=t.sent).ok){t.next=6;break}throw new Error;case 6:return t.next=8,n.json();case 8:for(e=t.sent,r({tag:"log_status",status:"Done analyzing."}),a=[],s=0,c=Object.entries(e);s<c.length;s++)u=Object(f.a)(c[s],1),l=u[0],a.push(l);r({tag:"add_known_normals",normals:a});case 14:case"end":return t.stop()}}),t)})))()}(a.result)},a.onerror=function(){}}}}),Object(p.jsxs)("div",{children:["Known count: ",e.knownNormals.size]}),Object(p.jsx)("div",{children:e.statusLog.map((function(t){return Object(p.jsxs)(s.a.Fragment,{children:[t,Object(p.jsx)("br",{})]},t)}))})]})},O=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,21)).then((function(n){var e=n.getCLS,a=n.getFID,s=n.getFCP,r=n.getLCP,o=n.getTTFB;e(t),a(t),s(t),r(t),o(t)}))};o.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(h,{})}),document.getElementById("root")),O()}},[[20,1,2]]]);
//# sourceMappingURL=main.a547e552.chunk.js.map